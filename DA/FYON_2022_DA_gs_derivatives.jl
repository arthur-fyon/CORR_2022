#=
This file contains all derivatives of STG model gating functions
=#

dboltz(V,A,B) = exp(-(V-A)/B) / (B * (exp(-(V-A)/B) + 1)^2) #boltz(V, A, B) = 1 / (1 + exp(-(V-A)/B))

# Na-current (m = activation variable, h = inactivation variable)
dm(V) = dboltz(V, -30.0907, 9.7264)
dh(V) = dboltz(V, -54.0289, -10.7665)

# Kd-current (n = activation variable)
dn(V) = dboltz(V, -25., 12.)

# L-type Ca-current (m = activation variable)
dmCaL(V) = dboltz(V, -50., 2.)

# N-type Ca-current (m = activation variable)
dmCaN(V) = dboltz(V, -30., 7.)

# ERG K-current (o = activation variable, i = intermediate variable)
doERG(V) = (351*exp(-(733*V)/10000)*exp((759*V)/10000))/(12500000000*((22176823299366213*exp(-(671*V)/10000)*exp(-(733*V)/10000))/590295810358705651712000 +
        (9*exp((759*V)/10000)*((3*exp(-(733*V)/10000))/1000 + exp((1189*V)/10000)/10))/2500)) +
        (27*exp(-(733*V)/10000)*exp((759*V)/10000)*((7784064978077540763*exp(-(671*V)/10000)*exp(-(733*V)/10000))/1475739525896764129280000000 -
        (6831*exp((759*V)/10000)*((3*exp(-(733*V)/10000))/1000 + exp((1189*V)/10000)/10))/25000000 + (9*exp((759*V)/10000)*((2199*exp(-(733*V)/10000))/10000000 -
        (1189*exp((1189*V)/10000))/100000))/2500))/(2500000*((22176823299366213*exp(-(671*V)/10000)*exp(-(733*V)/10000))/590295810358705651712000 +
        (9*exp((759*V)/10000)*((3*exp(-(733*V)/10000))/1000 + exp((1189*V)/10000)/10))/2500)^2)
diERG(V) = (4383*exp((759*V)/10000)*exp((1189*V)/10000))/(62500000*((22176823299366213*exp(-(671*V)/10000)*exp(-(733*V)/10000))/590295810358705651712000 +
        (9*exp((759*V)/10000)*((3*exp(-(733*V)/10000))/1000 + exp((1189*V)/10000)/10))/2500)) +
        (9*exp((759*V)/10000)*exp((1189*V)/10000)*((7784064978077540763*exp(-(671*V)/10000)*exp(-(733*V)/10000))/1475739525896764129280000000 -
        (6831*exp((759*V)/10000)*((3*exp(-(733*V)/10000))/1000 + exp((1189*V)/10000)/10))/25000000 + (9*exp((759*V)/10000)*((2199*exp(-(733*V)/10000))/10000000 -
        (1189*exp((1189*V)/10000))/100000))/2500))/(25000*((22176823299366213*exp(-(671*V)/10000)*exp(-(733*V)/10000))/590295810358705651712000 +
        (9*exp((759*V)/10000)*((3*exp(-(733*V)/10000))/1000 + exp((1189*V)/10000)/10))/2500)^2)

# NMDA current
dNMDA(V) = (Mg*exp(-(2*V)/25)) / (125*((Mg*exp(-(2*V)/25))/10 + 1)^2)
